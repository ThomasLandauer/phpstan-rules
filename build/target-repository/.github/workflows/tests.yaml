name: Tests

on: [pull_request, push]

jobs:
    tests:
        runs-on: ubuntu-latest

        strategy:
            fail-fast: false
            matrix:
                php_version: ['7.2', '7.3', '7.4', '8.0']

        steps:
            -   run: composer require phpstan/phpstan --dev
            -   run: composer require phpstan/extensions-installer --dev
            -   run: composer require symplify/phpstan-rules --dev

            # @todo run some local phpstan.neon that uses rule from symplify
